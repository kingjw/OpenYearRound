<style>
.check_Content{
  text-align: center;
  width: 90%;
  height:100%;
  background-color: #fefefe;
  margin: auto;
  padding: 1%;
  border: 1px solid #888;
  border-radius: 5px;
}
.checkbtn{
  color: rgb(255, 255, 255);
  background-color:#5a95b1;
  border-color: #5a95b1;
  border-style: none;
  height: 38px;
  width: 80%;
  /* margin-top: 14%; */
  margin-bottom: 2%;
  border-radius: 2px;
}
.formModal{
  margin-bottom: 1%;
}
.checkbtn:hover{
  color: rgb(255, 255, 255);
  background-color:#5a95b1;
  border-color: #5a95b1;
  border-style: none;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  margin-left: 95%;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
#contentTable{
  border-bottom-color: white;
}
.titleDate{
  border-top-color: #469fbb;
  border-bottom-color: #469fbb;
  height: 7%;
  text-align: center;
}
#modalButtonDiv{
  display : flex;
  align-items : center;
  height: 100%;
}
.reformButton{
  width: 10%;
  height: 38px;
  color: rgb(255, 255, 255);
  border-color: #469fbb;
  border-style: none;
  background-color:#469fbb;
  margin-left: 39%;
}
.deleteButton{
  width: 10%;
  height: 38px;
  color: rgb(255, 255, 255);
  border-color: #469fbb;
  border-style: none;
  background-color:#469fbb;
  margin-left: 2%;
  display: table-cell;
  vertical-align: center;
}
#content{
  height:50%;
  border-bottom-color: white;
}
#BoardModalContent{
  width: 90%;
  margin-left: 5%;
  height: 90%;
  font-size: 9px;
  width: 90%;
  margin-left: 5%;
  height: 90%;
}
#BoardModalContentArea{
  background-color: white;
  font-size: 9px;
}
@media all and (orientation:portrait){
  .deleteButton,.reformButton{
    width: 20%;
  }
  .reformButton{
    margin-left: 29%;
  }
  #numberCheck {
    padding-top: 20%; /* Location of the box */
  }
}
@media screen and (min-width:750px) and (max-width:1080px){
  #BoardModalContent{
    font-size: 12px;
  }
  #BoardModalContentArea{
    font-size: 12px;
  }
}
@media screen and (min-width:1081px) and (max-width:1600px){
  #BoardModalContent{
    font-size: 14px;
  }
  #BoardModalContentArea{
    font-size: 14px;
  }
}
@media screen and (min-width:1601px) and (max-width:1920px){
  #BoardModalContent{
    font-size: 16px;
  }
  #BoardModalContentArea{
    font-size: 16px;
  }
}

@media screen and (min-width:1921px) and (max-width:2560px){
  #BoardModalContent{
    font-size: 20px;
  }
  #BoardModalContentArea{
    font-size: 20px;
  }
}
@media screen and (min-width:2561px){
  #BoardModalContent{
    font-size: 25px;
  }
  #BoardModalContentArea{
    font-size: 25px;
  }
}
</style>
<table id="BoardModalContent">
  <tr>
    <td class="titleDate">제목</td>
    <td id="contentTitle"class="titleDate"><%= rows[0].title %></td>
    <td class="titleDate">게시일</td>
    <td class="titleDate"><%= rows[0].date %></td>
  </tr>
  <tr>
    <td id="contentTable" colspan="4" style="height:7%">내용</td>
  </tr>
  <tr>
    <td colspan="6"><textarea  readonly="readonly" id="BoardModalContentArea"style="height:100%"class='form-control' rows='15' ><%= rows[0].text %></textarea></td>
  </tr>
</table>

<div id="modalButtonDiv">
  <input type='button' name='write' value='수정'id='reformButton'class="form-control"></input>
  <input type='button' name='write' value='삭제' id='deleteButton'class="form-control"></input>
</div>

<div id="numberCheck2">
  <div class="check_Content">
    <span id="checkClose2"class="Close">&times;</span>
    <label></label>
    <div class="formModal">
      <div class="col-sm-12">
        <input  type="password"class='form-control' rows='1' id="checkPassword2" placeholder="비밀번호를 입력해주세요."></input>
      </div>
    </div>
    <div >
      <button  type="button" id="okay_btn2" >확인</button>
    </div>
  </div>
</div>

<div id="numberCheck3"><!--수정하기 위해서 비밀번호 받는 모달-->
  <div class="check_Content">
    <span id="checkClose3"class="Close">&times;</span>
    <label></label>
    <div class="formModal">
      <div class="col-sm-12">
        <input  type="password"class='form-control' rows='1' id="checkPassword3" placeholder="비밀번호를 입력해주세요."></input>
      </div>
    </div>
    <button  type="button" id="okay_btn" style="margin : 20%;">확인</button>
  </div>
</div>
<script>
var numberCheck2 = document.getElementById('numberCheck2');
var checkClose2= document.getElementById('checkClose2');
var checkClose3= document.getElementById('checkClose3');
var passwordCheck2=document.getElementById("checkPassword2");
var ok2 = document.getElementById('okay_btn2');
var ok3 = document.getElementById('okay_btn3');
var uploadClose2 =document.getElementById('uploadClose2');
var passwordCheck3=document.getElementById("checkPassword3");
var contentTitle=document.getElementById('contentTitle');
var content=document.getElementById('BoardModalContentArea');
var title_nameR=document.getElementById('title_nameR');
var contentsR=document.getElementById('contentsR');
// deletebtn.onclick=function(){
$('.deleteButton').click(function(){
  console.log('ok');
  numberCheck2.style.display = "block";
  checkClose2.onclick=function(){
    numberCheck2.style.display="none";
  };

  if (event.target == numberCheck2) {
    numberCheck2.style.display="none";
  };

  $('#numberCheck2').keypress(function(event){
    console.log('ok');
   if ( event.which == 13 ) {
       $('#okay_btn2').click();
       return false;
   }
  });
  ok2.onclick=function(){
    var password2=passwordCheck2.value;

    var data = {
      'Password': password2
      // 'title' : title
    }
    // console.log(data);
    $.ajax({
      type: "POST",
      url: "/check/goCheck",
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      cache: false,
      datatype: "json", // expecting JSON to be returnedzz
      data: data,
      success: function(result) {
        // $.ajax({
        //   type : "get",
        //     url : "/board/goCheckk",
        //     contentType: "application/x-www-form-urlencoded; charset=UTF-8",
        //     cache: false,
        //     datatype: "json", // expecting JSON to be returned
        //     success : function(){
              if(result['results']==100){
                alert('삭제완료');
                $(window).attr('location','/board/goCheckk/<%=rows[0].id%>');

            }else {
              alert('비밀번호가 일치하지 않습니다.');
              passwordCheck2.value="";
            }
        //     }
        // })
      },
    })
  }
});

$('.reformButton').click(function(){
// reformbtn.onclick=function(){
  console.log('press reform button');
  var titleR=contentTitle.innerHTML;
  var contentR=content.innerHTML;
  uploadClose2.onclick=function(){
    textUpload2.style.display="none";
  };

  console.log('ok');
  numberCheck3.style.display = "block";

  checkClose3.onclick=function(){
    numberCheck3.style.display="none";
  };

  if (event.target == numberCheck3) {
    numberCheck3.style.display="none";
  };

  $('#numberCheck3').keypress(function(event){
    console.log('ok');
    if ( event.which == 13 ) {
      $('#okay_btn3').click();
      return false;
    }
  });
  ok3.onclick=function(){
    var password3=passwordCheck3.value;

    var data = {
      'Password': password3
    }
    $.ajax({
      type: "POST",
      url: "/check/goCheck",
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      cache: false,
      datatype: "json", // expecting JSON to be returnedzz
      data: data,
      success: function(result) {
        if(result['results']==100){
          numberCheck3.style.display = "none";
          textUpload2.style.display = "block";
          title_nameR.innerHTML=titleR;
          contentsR.innerHTML=contentR;
        }else {
          alert('비밀번호가 일치하지 않습니다.');
          passwordCheck3.value="";
        }
      },
    })
  }
});
</script>
